const e=document.querySelector("[data-homepage]"),n=document.querySelector("[data-library]"),a=document.querySelector("header"),t=document.querySelector(".header__library-container"),r=document.querySelector(".header__homepage-container"),s=document.querySelector("[data-watched]"),c=document.querySelector("[data-queue]"),i=document.querySelectorAll(".library-container__btn"),o=document.querySelector(".movie-container"),p=document.querySelector(".watched"),d=document.querySelector(".queued"),l=document.querySelector(".library-container"),u=e=>{e.currentTarget.removeEventListener("click",u),t.style.display="none",r.style.display="block",a.classList.remove("library"),e.currentTarget.classList.add("nav__btn--active"),n.classList.remove("nav__btn--active"),n.addEventListener("click",m),o.style.display="flex",l.style.display="none"},m=n=>{n.currentTarget.removeEventListener("click",u),a.classList.add("library"),r.style.display="none",t.style.display="flex",n.currentTarget.classList.add("nav__btn--active"),e.classList.remove("nav__btn--active"),e.addEventListener("click",u),c.classList.contains("library-container__btn--active")&&(c.classList.remove("library-container__btn--active"),i[1].addEventListener("click",b),s.classList.add("library-container__btn--active")),o.style.display="none",l.style.display="block",p.style.display="flex",d.style.display="none"},b=e=>{e.currentTarget.removeEventListener("click",b),e.currentTarget.classList.contains("library-container__btn--active")||(e.currentTarget===i[0]?(i[0].classList.add("library-container__btn--active"),i[1].classList.remove("library-container__btn--active"),i[1].addEventListener("click",b),p.style.display="flex",d.style.display="none"):(i[1].classList.add("library-container__btn--active"),i[0].classList.remove("library-container__btn--active"),i[0].addEventListener("click",b),p.style.display="none",d.style.display="flex"))};function $(){document.querySelector(".movie-set").addEventListener("click",g)}const y=document.querySelector(".backdrop");function g(e){let n=e.target.parentNode;"DIV"==n.nodeName&&(n=n.parentNode),console.log(n.dataset.movieId),y.classList.remove("is-hidden"),document.querySelector(".movie-modal__button--close").addEventListener("click",v)}function v(){y.classList.add("is-hidden"),document.querySelector(".movie-modal__button--close").removeEventListener("click",v)}const _=document.querySelector(".movie-set"),f=document.querySelector(".page-numbers"),L=document.querySelector(".loader");let h=1;function q(e){(async function(e){L.style.display="flex";const[n,a,t]=await Promise.all([fetch(`https://api.themoviedb.org/3/movie/popular?api_key=bfe21f4061b2869ccff2b4c323a3a257&language=en-US&page=${e}`),fetch("https://api.themoviedb.org/3/configuration?api_key=bfe21f4061b2869ccff2b4c323a3a257"),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=bfe21f4061b2869ccff2b4c323a3a257")]);if(!n.ok){const e=`An error has occured: ${n.status}`;throw new Error(e)}if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}if(!t.ok){const e=`An error has occured: ${t.status}`;throw new Error(e)}L.style.display="none";const r=await n.json(),s=await a.json(),c=await t.json();return[r,s.images,c.genres]})(e).then((([e,n,a])=>{!function(e,n,a){e.results.forEach((e=>{let t=e.title,r=function(e,n){let a=[];return e.forEach((e=>{let t=n.find((n=>n.id===e)).name;void 0!==t&&a.push(t)})),a.join(", ")}(e.genre_ids,a),s=e.release_date.slice(0,4),c=n.base_url+"w500"+e.poster_path;_.insertAdjacentHTML("beforeend",`\n  <li class="movie-card" data-movie-id="${e.id}" modal-open>\n    <img class="movie-card__img" src="${c}" alt"${t}"/>\n    <div class="movie-card__description">\n      <h2 class="movie-card__description--title">${t}</h2>\n      <p class="movie-card__description--category">${r} | ${s}</p>\n    </div>\n  </li>`),$()}))}(e,n,a),function(e){f.innerHTML="";let n=e,a=20;1==e?f.insertAdjacentHTML("beforeend",`<p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <p id=${n+2} class="page-number">${e+2}</p>\n      <p id=${n+3} class="page-number">${e+3}</p>\n      <p id=${n+4} class="page-number">${e+4}</p>\n      <span>...</span>\n      <p id=${a} class="page-number">${a}</p>\n    `):2==e?f.insertAdjacentHTML("beforeend",`<p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <p id=${n+2} class="page-number">${e+2}</p>\n      <p id=${n+3} class="page-number">${e+3}</p>\n      <span>...</span>\n      <p id=${a} class="page-number">${a}</p>\n      `):3==e?f.insertAdjacentHTML("beforeend",`<p id=${n-2} class="page-number">${e-2}</p>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <p id=${n+2} class="page-number">${e+2}</p>\n      <span>...</span>\n      <p id=${a} class="page-number">${a}</p>\n      `):4==e||5==e?f.insertAdjacentHTML("beforeend",`<p id=${n-3} class="page-number">${e-3}</p>\n      <p id=${n-2} class="page-number">${e-2}</p>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <span>...</span>\n      <p id=${a} class="page-number">${a}</p>\n      `):e==a-3?f.insertAdjacentHTML("beforeend",`<p id=1 class="page-number">1</p>\n      <span>...</span>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <p id=${n+2} class="page-number">${e+2}</p>\n      <p id=${a} class="page-number">${a}</p>\n      `):e==a-2?f.insertAdjacentHTML("beforeend",`<p id=1 class="page-number">1</p>\n      <span>...</span>\n      <p id=${n-2} class="page-number">${e-2}</p>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <p id=${a} class="page-number">${a}</p>\n      `):e==a-1?f.insertAdjacentHTML("beforeend",`<p id=1 class="page-number">1</p>\n      <span>...</span>\n      <p id=${n-3} class="page-number">${e-3}</p>\n      <p id=${n-2} class="page-number">${e-2}</p>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${a} class="page-number">${a}</p>\n      `):e==a?f.insertAdjacentHTML("beforeend",`<p id=1 class="page-number">1</p>\n      <span>...</span>\n      <p id=${n-4} class="page-number">${e-4}</p>\n      <p id=${n-3} class="page-number">${e-3}</p>\n      <p id=${n-2} class="page-number">${e-2}</p>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${a} class="page-number active">${a}</p>\n      `):f.insertAdjacentHTML("beforeend",`<p id=1 class="page-number">1</p>\n      <span>...</span>\n      <p id=${n-1} class="page-number">${e-1}</p>\n      <p id=${n} class="page-number active">${e}</p>\n      <p id=${n+1} class="page-number">${e+1}</p>\n      <span>...</span>\n      <p id=${a} class="page-number">${a}</p>\n      `)}(h)})).catch((e=>{console.error("movies or categories request failed. Error: "+e.message)}))}document.querySelector("[data-homepage]");const S=document.querySelector("[data-library]"),k=(document.querySelector("header"),document.querySelector(".header__library-container"),document.querySelector(".header__homepage-container"),document.querySelector("[data-watched]"),document.querySelector("[data-queue]"));document.querySelectorAll(".library-container__btn"),document.querySelector(".watched"),document.querySelector(".queued"),document.querySelector(".library-container"),document.querySelector(".loader");S.addEventListener("click",m),k.addEventListener("click",b),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(v(),document.removeEventListener("keydown",e))}));const E=document.querySelector(".next-button"),T=document.querySelector(".prev-button"),w=document.querySelector(".page-numbers");E.addEventListener("click",(function(e){e.preventDefault(),_.innerHTML="",h++,console.log(h),q(h)})),T.addEventListener("click",(function(e){e.preventDefault(),h>1&&(_.innerHTML="",h--,console.log(h),q(h))})),w.addEventListener("click",(function(e){"P"===e.target.nodeName&&(_.innerHTML="",h=parseInt(e.target.id),console.log(h),q(h))})),q();
//# sourceMappingURL=index.83c46b50.js.map
