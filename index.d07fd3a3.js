const e=document.querySelector(".movie-set");(async function(){const[e,o,r]=await Promise.all([fetch("https://api.themoviedb.org/3/movie/popular?api_key=bfe21f4061b2869ccff2b4c323a3a257&language=en-US&page=1"),fetch("https://api.themoviedb.org/3/configuration?api_key=bfe21f4061b2869ccff2b4c323a3a257"),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=bfe21f4061b2869ccff2b4c323a3a257")]);if(!e.ok){const o=`An error has occured: ${e.status}`;throw new Error(o)}if(!o.ok){const e=`An error has occured: ${o.status}`;throw new Error(e)}if(!r.ok){const e=`An error has occured: ${r.status}`;throw new Error(e)}const t=await e.json(),a=await o.json(),i=await r.json();return[t,a.images,i.genres]})().then((([o,r,t])=>{!function(o,r,t){o.results.forEach((o=>{let a=o.title,i=function(e,o){let r=[];return e.forEach((e=>{let t=o.find((o=>o.id===e)).name;void 0!==t&&r.push(t)})),r.join(", ")}(o.genre_ids,t),c=o.release_date.slice(0,4),s=r.base_url+"w500"+o.poster_path;e.insertAdjacentHTML("beforeend",`\n  <li class="movie-card modal-open" data-movie-id="${o.id}">\n    <img class="movie-card__img" src="${s}" alt"${a}"/>\n    <div class="movie-card__description">\n      <h2 class="movie-card__description--title">${a}</h2>\n      <p class="movie-card__description--category">${i} | ${c}</p>\n    </div>\n  </li>`)}))}(o,r,t),console.log(document.querySelector(".movie-card").dataset.movieId)})).catch((e=>{console.error("movies or categories request failed. Error: "+e.message)}));
//# sourceMappingURL=index.d07fd3a3.js.map
